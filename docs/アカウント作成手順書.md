# アカウント作成手順書

このドキュメントでは、Shopify Banner Managerアプリの開発に必要な各種サービスのアカウント作成手順を詳しく説明します。

## 📋 目次

1. [Shopifyパートナーアカウントの作成](#1-shopifyパートナーアカウントの作成)
2. [Cloudflareアカウントの作成](#2-cloudflareアカウントの作成)
3. [開発ストアの作成](#3-開発ストアの作成)
4. [アカウント設定の確認](#4-アカウント設定の確認)
5. [トラブルシューティング](#5-トラブルシューティング)

---

## 1. Shopifyパートナーアカウントの作成

### 1.1 パートナーアカウントの登録

1. **Shopifyパートナーページにアクセス**
   - ブラウザで [https://partners.shopify.com/](https://partners.shopify.com/) にアクセス

2. **「Join now」をクリック**
   - ページ右上の「Join now」ボタンをクリック

3. **アカウント情報を入力**
   ```
   必須項目:
   - First name: 名前（名）
   - Last name: 名前（姓）
   - Email address: メールアドレス
   - Password: パスワード（8文字以上）
   - Company name: 会社名（個人の場合は個人名）
   ```

4. **利用規約に同意**
   - 「I agree to the Partner Program Agreement」にチェック
   - 「I agree to the Shopify Terms of Service」にチェック

5. **「Create your partner account」をクリック**

6. **メール認証**
   - 登録したメールアドレスに認証メールが送信される
   - メール内の認証リンクをクリック

### 1.2 パートナーアカウントの初期設定

1. **ダッシュボードにアクセス**
   - 認証完了後、パートナーダッシュボードに自動的にログイン

2. **プロフィール情報の入力**
   - 「Account」→「Profile」をクリック
   - 必要に応じて追加情報を入力

3. **支払い情報の設定**
   - 「Account」→「Payouts」をクリック
   - 収益の受け取り方法を設定（PayPal、銀行口座など）

### 1.3 パートナーアカウントの確認

✅ **確認項目:**
- [ ] パートナーダッシュボードにアクセスできる
- [ ] プロフィール情報が正しく設定されている
- [ ] 支払い情報が設定されている（収益化を予定している場合）

---

## 2. Cloudflareアカウントの作成

### 2.1 Cloudflareアカウントの登録

1. **Cloudflareページにアクセス**
   - ブラウザで [https://www.cloudflare.com/](https://www.cloudflare.com/) にアクセス

2. **「Sign Up」をクリック**
   - ページ右上の「Sign Up」ボタンをクリック

3. **アカウント情報を入力**
   ```
   必須項目:
   - Email: メールアドレス
   - Password: パスワード（8文字以上）
   - Username: ユーザー名（任意）
   ```

4. **「Create Account」をクリック**

5. **メール認証**
   - 登録したメールアドレスに認証メールが送信される
   - メール内の「Verify email」ボタンをクリック

### 2.2 Cloudflareダッシュボードの初期設定

1. **ダッシュボードにアクセス**
   - 認証完了後、Cloudflareダッシュボードにアクセス

2. **アカウント情報の確認**
   - 右上のアカウントアイコンをクリック
   - 「My Profile」でアカウント情報を確認

3. **請求情報の設定（有料プランを使用する場合）**
   - 「Billing」→「Payment Methods」をクリック
   - クレジットカード情報を入力

### 2.3 必要なCloudflareサービスの確認

✅ **確認項目:**
- [ ] Cloudflareダッシュボードにアクセスできる
- [ ] Workers サービスが利用可能
- [ ] Pages サービスが利用可能
- [ ] D1 データベースサービスが利用可能

### 2.4 Cloudflare CLI (Wrangler) のセットアップ

1. **Wranglerのインストール**
   ```bash
   npm install -g wrangler
   ```

2. **Wranglerのログイン**
   ```bash
   wrangler login
   ```
   - ブラウザが開き、Cloudflareアカウントでの認証を求められる
   - 「Allow」をクリックして認証を完了

3. **アカウント情報の確認**
   ```bash
   wrangler whoami
   ```
   - アカウントIDとメールアドレスが表示されることを確認

---

## 3. 開発ストアの作成

### 3.1 Shopifyパートナーから開発ストアを作成

1. **パートナーダッシュボードにアクセス**
   - [https://partners.shopify.com/](https://partners.shopify.com/) にログイン

2. **「Development stores」をクリック**
   - 左サイドバーの「Development stores」をクリック

3. **「Create store」をクリック**
   - ページ右上の「Create store」ボタンをクリック

4. **ストア情報を入力**
   ```
   必須項目:
   - Store name: ストア名（例: "My Test Store"）
   - Store URL: ストアURL（例: "my-test-store-dev"）
   - Store purpose: 目的を選択（"Development" を推奨）
   ```

5. **「Create store」をクリック**

6. **ストアの初期設定**
   - ストアの基本情報（住所、電話番号など）を入力
   - 通貨とタイムゾーンを設定

### 3.2 開発ストアの確認

✅ **確認項目:**
- [ ] 開発ストアにアクセスできる
- [ ] ストアの基本情報が正しく設定されている
- [ ] 管理画面にアクセスできる

---

## 4. アカウント設定の確認

### 4.1 必要な情報の収集

開発に必要な以下の情報を収集・確認してください：

#### **Shopify関連**
```
- パートナーアカウント: メールアドレス
- 開発ストアURL: https://your-store-name.myshopify.com
- ストア管理画面URL: https://your-store-name.myshopify.com/admin
```

#### **Cloudflare関連**
```
- アカウントID: wrangler whoami で確認
- メールアドレス: アカウント登録時のメールアドレス
```

### 4.2 環境変数ファイルの準備

1. **`.env`ファイルを作成**
   ```bash
   cp .env.example .env
   ```

2. **環境変数を設定**
   ```env
   # Shopify設定（後でアプリ作成時に取得）
   SHOPIFY_API_KEY=your_shopify_api_key_here
   SHOPIFY_API_SECRET=your_shopify_api_secret_here
   SHOPIFY_SCOPES=read_products,write_products,read_orders,write_orders,read_script_tags,write_script_tags

   # Cloudflare設定
   CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id_here
   CLOUDFLARE_API_TOKEN=your_cloudflare_api_token_here

   # アプリ設定
   APP_URL=https://your-app-domain.com
   APP_NAME="Shopify Banner Manager"

   # 環境設定
   NODE_ENV=development
   ENVIRONMENT=development
   ```

### 4.3 アカウント情報の記録

以下の情報を安全な場所に記録してください：

| サービス | 項目 | 値 | 備考 |
|---------|------|-----|------|
| Shopify | パートナーアカウント | | メールアドレス |
| Shopify | 開発ストアURL | | https://xxx.myshopify.com |
| Cloudflare | アカウントID | | wrangler whoami で確認 |
| Cloudflare | メールアドレス | | アカウント登録時のメール |

---

## 5. トラブルシューティング

### 5.1 よくある問題と解決方法

#### **Shopifyパートナーアカウント関連**

**問題**: メール認証が完了しない
```
解決方法:
1. 迷惑メールフォルダを確認
2. メールアドレスが正しいか確認
3. 認証リンクの有効期限（通常24時間）を確認
4. 新しい認証メールを再送信
```

**問題**: パートナーダッシュボードにアクセスできない
```
解決方法:
1. ブラウザのキャッシュをクリア
2. 別のブラウザで試す
3. プライベートブラウジングモードで試す
4. パスワードリセットを実行
```

#### **Cloudflareアカウント関連**

**問題**: Wranglerのログインが失敗する
```
解決方法:
1. wrangler logout を実行
2. wrangler login を再実行
3. ブラウザのポップアップブロックを無効化
4. 別のブラウザで試す
```

**問題**: アカウントIDが取得できない
```
解決方法:
1. wrangler whoami を実行
2. Cloudflareダッシュボードの右サイドバーで確認
3. アカウントの権限を確認
```

#### **開発ストア関連**

**問題**: 開発ストアが作成できない
```
解決方法:
1. ストア名とURLが重複していないか確認
2. パートナーアカウントの状態を確認
3. 別のストア名で再試行
```

**問題**: ストアにアクセスできない
```
解決方法:
1. ストアURLが正しいか確認
2. インターネット接続を確認
3. ブラウザのキャッシュをクリア
```

### 5.2 サポートリソース

#### **Shopifyサポート**
- [Shopifyパートナードキュメント](https://shopify.dev/partners)
- [パートナーサポート](https://partners.shopify.com/support)
- [コミュニティフォーラム](https://community.shopify.com/)

#### **Cloudflareサポート**
- [Cloudflareドキュメント](https://developers.cloudflare.com/)
- [Workersドキュメント](https://developers.cloudflare.com/workers/)
- [D1ドキュメント](https://developers.cloudflare.com/d1/)
- [サポートセンター](https://support.cloudflare.com/)

### 5.3 次のステップ

アカウント作成が完了したら、以下の手順に進んでください：

1. **アプリの作成**: Shopifyパートナーでアプリを作成
2. **D1データベースの作成**: CloudflareでD1インスタンスを作成
3. **開発環境のセットアップ**: ローカル開発環境の構築
4. **アプリの開発**: 実際のアプリ開発を開始

詳細な手順については、[開発環境セットアップガイド](開発環境セットアップガイド.md)を参照してください。

---

## 📝 チェックリスト

アカウント作成完了の確認：

### Shopify関連
- [ ] パートナーアカウントが作成されている
- [ ] メール認証が完了している
- [ ] パートナーダッシュボードにアクセスできる
- [ ] 開発ストアが作成されている
- [ ] 開発ストアにアクセスできる

### Cloudflare関連
- [ ] Cloudflareアカウントが作成されている
- [ ] メール認証が完了している
- [ ] Cloudflareダッシュボードにアクセスできる
- [ ] Wranglerがインストールされている
- [ ] Wranglerでログインできている
- [ ] アカウントIDが取得できている

### 環境設定
- [ ] `.env`ファイルが作成されている
- [ ] 必要な環境変数が設定されている
- [ ] アカウント情報が記録されている

---

**注意**: この手順書は2024年1月時点の情報に基づいています。サービス提供元の仕様変更により、手順が変更される場合があります。最新の情報は各サービスの公式ドキュメントを確認してください。
